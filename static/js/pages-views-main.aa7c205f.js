(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-views-main"],{"06c5":function(e,t,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(n("6b75"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e){if("string"===typeof e)return(0,r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},"0cf2":function(e,t,n){var r=n("17cc");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("4714600c",r,!0,{sourceMap:!1,shadowMode:!1})},"17cc":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"uni-page-body[data-v-225e6ff3]{padding:10px 0}.wrap[data-v-225e6ff3]{width:70%;\n\t/* height: 600px; */margin:0 auto;border:1px solid #000}.content-vne[data-v-225e6ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;border-bottom:1px solid #000}.my-assets[data-v-225e6ff3]{width:70%;border-right:1px solid #000;font-size:18px;font-weight:700;line-height:30px;padding:1% 2%}.assets[data-v-225e6ff3]{margin-top:20px}.blind-box[data-v-225e6ff3]{width:30%;text-align:center;padding:2%;font-size:24px;font-weight:700;line-height:50px}.content-ovn[data-v-225e6ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:1% 2%}.ovn-left[data-v-225e6ff3]{width:70%}.my-blind-box[data-v-225e6ff3]{margin-bottom:20px}.box-kvu[data-v-225e6ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:10px}.box-kvu .btn[data-v-225e6ff3]{display:inline-block;background-color:#169bd5;color:#fff;margin:0 10px;padding:1% 0;border-radius:5px;width:160px;text-align:center}.form[data-v-225e6ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;border:1px solid #000}.form-item[data-v-225e6ff3]{line-height:40px;text-align:center;width:20%;border-left:1px solid #000;border-right:1px solid #000}.operation[data-v-225e6ff3]{background-color:#169bd5;color:#fff;border-radius:5px;padding:1% 5%}.tank-kvu[data-v-225e6ff3]{margin-bottom:10px}.ovn-right[data-v-225e6ff3]{width:30%}.buy-item[data-v-225e6ff3]{width:70%;height:50px;line-height:50px;margin:20px auto;background-color:#169bd5;color:#fff;border-radius:5px;text-align:center}",""]),e.exports=t},"26cf":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{},[n("v-uni-view",{staticClass:"wrap"},[n("v-uni-view",{staticClass:"content-vne"},[n("v-uni-view",{staticClass:"my-assets"},[n("v-uni-view",{},[e._v("Wallet Address："+e._s(e.userAccount))]),n("v-uni-view",{staticClass:"assets"},[n("v-uni-text",{staticStyle:{display:"inline-block"}},[e._v("My Assets：")]),n("v-uni-view",{},[e._v("BNB："+e._s(e.userBnbAssets))]),n("v-uni-view",{},[e._v("TC："+e._s(e.userTcAssets))]),n("v-uni-view",{},[e._v("TS："+e._s(e.userTsAssets))])],1)],1),n("v-uni-view",{staticClass:"blind-box"},[n("v-uni-view",{staticClass:"total-nums"},[e._v("当前盲盒总销量："+e._s(e.totalNums))]),n("v-uni-view",{staticClass:"not-used"},[e._v("当前未使用盲盒："+e._s(e.notUsed))])],1)],1),n("v-uni-view",{staticClass:"content-ovn"},[n("v-uni-view",{staticClass:"ovn-left"},[n("v-uni-view",{staticClass:"my-blind-box"},[n("v-uni-view",{staticClass:"box-kvu"},[n("v-uni-view",{},[e._v("盲盒（BEP-721）")]),n("v-uni-view",{},[n("v-uni-text",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.receiveAll()}}},[e._v("一键全部领取")]),n("v-uni-text",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openAll()}}},[e._v("一键全部打开")])],1)],1),e._l(e.boxList,(function(t,r){return n("v-uni-view",{key:r,staticClass:"form"},[n("v-uni-view",{staticClass:"form-item",staticStyle:{width:"20%"}},[e._v(e._s(e._f("toLetter")(t.level)))]),n("v-uni-view",{staticClass:"form-item",staticStyle:{width:"35%"}},[e._v("待领取："),0==t.isPledge?n("v-uni-view",{staticStyle:{display:"inline-block"}},[e._v("0")]):n("v-uni-view",{staticStyle:{display:"inline-block"}},[1==t.level?n("v-uni-text",[e._v(e._s(e._f("toNum")(t.rewardTime))+"TC+"+e._s(e._f("toNums")(t.rewardTime))+"TS")]):e._e(),2==t.level?n("v-uni-text",[e._v(e._s(e._f("toNum")(t.rewardTime))+"TC+"+e._s(e._f("toNums")(t.rewardTime))+"TS")]):e._e(),3==t.level?n("v-uni-text",[e._v(e._s(e._f("toNum")(t.rewardTime))+"TC+"+e._s(e._f("toNums")(t.rewardTime))+"TS")]):e._e(),4==t.level?n("v-uni-text",[e._v(e._s(e._f("toNum")(t.rewardTime))+"TC+"+e._s(e._f("toNums")(t.rewardTime))+"TS")]):e._e()],1)],1),n("v-uni-view",{staticClass:"form-item",staticStyle:{width:"25%"}},[0==t.isPledge?n("v-uni-view",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.pledge(t.id)}}},[n("v-uni-text",{staticClass:"operation"},[e._v("质押")])],1):n("v-uni-view",{},[e.nowTime-t.rewardTime>3600?n("v-uni-text",{staticClass:"operation",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.receive(t.id)}}},[e._v("可领取")]):n("v-uni-text",{staticClass:"operation",staticStyle:{"background-color":"#c0c0c0"}},[e._v("未到领取时间")])],1)],1),n("v-uni-view",{staticClass:"form-item",staticStyle:{width:"20%"}},[1==t.isPledge?n("v-uni-text",{staticClass:"operation",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.redeem(t.id)}}},[e._v("赎回")]):n("v-uni-text",{staticClass:"operation",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.open(t.id)}}},[e._v("打开")])],1)],1)}))],2),n("v-uni-view",{staticClass:"my-tank"},[n("v-uni-view",{staticClass:"tank-kvu"},[e._v("坦克（BEP-721）")]),e._l(e.tankList,(function(t,r){return n("v-uni-view",{key:r,staticClass:"form"},[n("v-uni-view",{staticClass:"form-item"},[e._v(e._s(t.level)+"级坦克")]),n("v-uni-view",{staticClass:"form-item"},[e._v("攻击"+e._s(t.attack))]),n("v-uni-view",{staticClass:"form-item"},[e._v("防御"+e._s(t.defense))]),n("v-uni-view",{staticClass:"form-item"},[e._v("速度"+e._s(t.speed))]),n("v-uni-view",{staticClass:"form-item"},[e._v("攻击范围"+e._s(t.attackRange))])],1)}))],2)],1),n("v-uni-view",{staticClass:"ovn-right"},e._l(e.buyList,(function(t,r){return n("v-uni-view",{key:r,staticClass:"get-tank",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.buyBlindBox(t.lev)}}},[n("v-uni-view",{staticClass:"buy-item"},[e._v(e._s(t.name))])],1)})),1)],1)],1)],1)},o=[]},3684:function(e,t,n){"use strict";n.r(t);var r=n("26cf"),i=n("9bc2");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("596e");var a,s=n("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"225e6ff3",null,!1,r["a"],a);t["default"]=c.exports},"596e":function(e,t,n){"use strict";var r=n("0cf2"),i=n.n(r);i.a},"6b75":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"9bc2":function(e,t,n){"use strict";n.r(t);var r=n("9fd3"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"9fd3":function(e,t,n){"use strict";var r=n("4ea4");n("b680"),n("d3b7"),n("e25e"),n("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("b85c"));n("96cf");var o,a=r(n("1da1")),s={data:function(){return{carFund:{},tankFund:{},tokenFund:{},contractAddress:"",tankContractAddress:"",tokenContractAddress:"",userAccount:"",userBnbAssets:0,userTcAssets:0,userTsAssets:0,boxList:[],tankList:[],buyList:[{id:1,lev:4,name:"购买S级盲盒"},{id:2,lev:3,name:"购买A级盲盒"},{id:3,lev:2,name:"购买B级盲盒"},{id:4,lev:1,name:"购买C级盲盒"}],boxPrice:0,totalNums:0,notUsed:0,nowTime:0}},created:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ethereum.request({method:"eth_chainId"});case 2:return n=t.sent,t.next=5,ethereum.request({method:"eth_accounts"});case 5:return r=t.sent,t.next=8,ethereum.request({method:"eth_getBalance",params:r});case 8:return i=t.sent,t.next=11,e.handleChainChanged(n);case 11:return t.next=13,e.getNetworkChanged(n);case 13:return t.next=15,e.getAccountsChanged(r);case 15:return t.next=17,e.getBalance(i);case 17:return t.next=19,e.initBoxContract();case 19:return t.next=21,e.initTankContract();case 21:return t.next=23,e.initTokenContract();case 23:case"end":return t.stop()}}),t)})))()},onShow:function(){o=this,this.nowTime=Date.parse(new Date)/1e3},methods:{back:function(){uni.navigateBack()},handleChainChanged:function(e){return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"0x61"!=e&&uni.showModal({title:"Tips",content:"Network has changed,Please link to the correct BNB main network!",showCancel:!1,success:function(e){e.confirm&&window.location.reload()}});case 1:case"end":return t.stop()}}),t)})))()},getNetworkChanged:function(e){return(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ethereum.on("chainChanged",(function(e){"0x61"!=e&&uni.showModal({title:"Tips",content:"Please back to link the BNB main network and click OK!",showCancel:!1,success:function(e){e.confirm&&window.location.reload()}})}));case 1:case"end":return e.stop()}}),e)})))()},getAccountsChanged:function(e){return(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ethereum.on("accountsChanged",(function(e){var t=e.toString();o.userAccount=t,window.location.reload()}));case 1:case"end":return e.stop()}}),e)})))()},getBalance:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=parseInt(e),i=r/Math.pow(10,18),t.userBnbAssets=i;case 3:case"end":return n.stop()}}),n)})))()},initBoxContract:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$DApp.metaCoinInit().then((function(t){e.carFund=t,e.userAccount=t.account,e.contractAddress=t.contractAddress,e.getTotalSupply(),e.getBoxByOwner(),setInterval((function(){o.getTokenTsNums(t.account)}),3e3),e.getAddTokenTs(t.account),e.getRewardEvents()}));case 1:case"end":return t.stop()}}),t)})))()},initTankContract:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$DApp.tankInit().then((function(t){e.tankFund=t,e.tankContractAddress=t.contractAddress,e.getTankByOwner()}));case 1:case"end":return t.stop()}}),t)})))()},initTokenContract:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$DApp.tokenInit().then((function(t){console.log(t),e.tokenFund=t,e.tokenContractAddress=t.contractAddress,e.getTokenTcNums()}));case 1:case"end":return t.stop()}}),t)})))()},getTokenTcNums:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(o.userAccount),e.tokenFund.meta.methods.balanceOf(o.userAccount).call().then((function(e){o.userTcAssets=e/1e4}));case 2:case"end":return t.stop()}}),t)})))()},getTokenTsNums:function(e){return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.request({url:"https://box.rang.org.cn/addr/info",data:{addr:e},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){console.log(e.data.data.num),o.userTsAssets=1*e.data.data.num}});case 1:case"end":return t.stop()}}),t)})))()},getAddTokenTs:function(e){return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),uni.request({url:"https://box.rang.org.cn/addr",data:{addr:e},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){console.log(e)}});case 2:case"end":return t.stop()}}),t)})))()},getTotalSupply:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.carFund.meta.methods.totalSupply().call().then((function(t){e.totalNums=t}));case 1:case"end":return t.stop()}}),t)})))()},getBoxByOwner:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.carFund.meta.methods.getBoxByOwner(o.userAccount).call().then((function(t){var n,r=(0,i.default)(t);try{var o=function(){var t=n.value;e.getBoxsInfo(t).then((function(n){e.boxList.push({id:t,level:n.level,rewardTime:n.rewardTime,isPledge:n.isPledge,isUse:n.isUse}),e.notUsed=e.boxList.length}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}));case 1:case"end":return t.stop()}}),t)})))()},getBoxsInfo:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.carFund.meta.methods.boxs(e).call());case 1:case"end":return n.stop()}}),n)})))()},pledge:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("质押"+e),uni.showLoading({title:"In pledge...",mask:!0}),t.carFund.meta.methods.pledgeBox(e).send({from:t.userAccount}).on("receipt",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Pledge successfully!",showCancel:!1,success:function(e){e.confirm&&location.reload()}})})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Pledge failed!",showCancel:!1,success:function(e){e.confirm}})}));case 3:case"end":return n.stop()}}),n)})))()},receive:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("领取"+e),uni.showLoading({title:"Receiving...",mask:!0}),t.carFund.meta.methods.receiveDailyReward(e).send({from:t.userAccount}).on("receipt",(function(e){console.log(e)})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Received failed!",showCancel:!1,success:function(e){e.confirm}})}));case 3:case"end":return n.stop()}}),n)})))()},receiveAll:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("receiveall"),uni.showLoading({title:"Receiving all...",mask:!0}),e.carFund.meta.methods.receiveAllBox(o.userAccount).send({from:e.userAccount}).on("receipt",(function(e){console.log(e)})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Received failed!",showCancel:!1,success:function(e){e.confirm}})}));case 3:case"end":return t.stop()}}),t)})))()},getRewardEvents:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.carFund.meta.events.Reward({filter:{boxOwner:e.userAccount}}).on("data",(function(e){console.log(e),uni.hideLoading();var t=e.returnValues;console.log(t),t&&uni.showModal({title:"Tips",content:"Received successfully!",showCancel:!1,success:function(e){e.confirm&&location.reload()}})})).on("error",console.error);case 1:case"end":return t.stop()}}),t)})))()},open:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("打开"+e),uni.showLoading({title:"Opening...",mask:!0}),t.carFund.meta.methods.openBox(e).send({from:t.userAccount}).on("receipt",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Open successfully!",showCancel:!1,success:function(e){e.confirm&&location.reload()}})})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Open failed!",showCancel:!1,success:function(e){e.confirm}})}));case 3:case"end":return n.stop()}}),n)})))()},openAll:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("openall"),uni.showLoading({title:"Opening all...",mask:!0}),e.carFund.meta.methods.openAllBox(o.userAccount).send({from:e.userAccount}).on("receipt",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Open successfully!",showCancel:!1,success:function(e){e.confirm&&location.reload()}})})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Open failed!",showCancel:!1,success:function(e){e.confirm}})}));case 3:case"end":return t.stop()}}),t)})))()},redeem:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("赎回"+e),uni.showLoading({title:"Redeeming...",mask:!0}),t.carFund.meta.methods.redeemBox(e).send({from:t.userAccount}).on("receipt",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Redeem successfully!",showCancel:!1,success:function(e){e.confirm&&location.reload()}})})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Redeem failed!",showCancel:!1,success:function(e){e.confirm}})}));case 3:case"end":return n.stop()}}),n)})))()},getTankByOwner:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.tankFund.meta.methods.getTankByOwner(o.userAccount).call().then((function(t){var n,r=(0,i.default)(t);try{var o=function(){var t=n.value;e.getTanksInfo(t).then((function(n){e.tankList.push({id:t,level:n.level,attack:n.atk,defense:n.def,speed:n.sp,attackRange:n.atkRange})}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}));case 1:case"end":return t.stop()}}),t)})))()},getTanksInfo:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.tankFund.meta.methods.tanks(e).call());case 1:case"end":return n.stop()}}),n)})))()},buyBlindBox:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:uni.showLoading({title:"Purchasing...",mask:!0}),r="",r=4==e?"5":3==e?"3":2==e?"1":"0.1",t.carFund.meta.methods.buyBox(e).send({from:t.userAccount,value:t.$Web3.utils.toWei(r)}).on("receipt",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Purchase successful !",showCancel:!1,success:function(e){e.confirm&&location.reload()}})})).on("error",(function(e){console.log(e),uni.hideLoading(),uni.showModal({title:"Tips",content:"Purchase failed!",showCancel:!1,success:function(e){e.confirm}})}));case 4:case"end":return n.stop()}}),n)})))()},getBuyTank:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.carFund.meta.events.BuyBox({filter:{carOwner:e.userAccount}}).on("data",(function(e){console.log(e),uni.hideLoading();var t=e.returnValues;console.log(t),t?uni.showModal({title:"Tips",content:"Purchase successfuly!",showCancel:!1,success:function(e){e.confirm&&location.reload()}}):uni.showModal({title:"Tips",content:"Purchase failed!",showCancel:!1,success:function(e){e.confirm}})})).on("error",console.error);case 1:case"end":return t.stop()}}),t)})))()}},filters:{toLetter:function(e){return 1==e?"C级盲盒":2==e?"B级盲盒":3==e?"A级盲盒":"S级盲盒"},toNum:function(e){var t=Date.parse(new Date)/1e3,n=.01*Math.floor((t-e)/3600);return 1*n.toFixed(4)},toNums:function(e){var t=Date.parse(new Date)/1e3,n=.01*Math.floor((t-e)/3600)*10;return 1*n.toFixed(4)}}};t.default=s},b85c:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(n("06c5"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw a}}}}}}]);